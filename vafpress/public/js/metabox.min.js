(function(c){if(jQuery().chosen){jQuery(".vp-metabox .vp-wpa-group:not(.tocopy) .vp-js-chosen, .vp-meta-single .vp-js-chosen").chosen()}vp.is_multianswer=function(f){var g=["vp-checkbox","vp-checkimage","vp-multiselect"];if(jQuery.inArray(f,g)!==-1){return true}return false};var e=[];c(".vp-field[data-vp-bind]").each(function(f,i){var j=c(i).attr("data-vp-bind"),h=c(i).getDatas().type,g=c(i).attr("id");j&&e.push({bind:j,type:h,source:g})});function a(g){for(var l=0;l<g.length;l++){var n=g[l];var p=n.bind.split("|");var h=p[0];var o=p[1];var f=[];var m="";m=n.source.replace("[]","");m=m.substring(0,m.lastIndexOf("["));o=o.split(",");for(var k=0;k<o.length;k++){o[k]=m+"["+o[k]+"]";f.push(o[k])}for(k=0;k<f.length;k++){vp.binding_event(f,k,n,h,".vp-metabox","metabox")}}}a(e);var b=[];c(".vp-field[data-vp-dependency]").each(function(f,i){var j=c(i).attr("data-vp-dependency"),h=c(i).getDatas().type,g=c(i).attr("id");j&&b.push({dep:j,type:"field",source:g})});c(".vp-meta-group[data-vp-dependency]").each(function(f,i){var j=c(i).attr("data-vp-dependency"),h=c(i).getDatas().type,g=c(i).attr("id");j&&b.push({dep:j,type:"section",source:g})});function d(m){for(var k=0;k<m.length;k++){var n=m[k];var p=n.dep.split("|");var g=p[0];var o=p[1];var f=[];var l="";if(n.type==="field"){l=n.source.replace("[]","");l=l.substring(0,l.lastIndexOf("["))}else{if(n.type==="section"){l=jQuery(vp.jqid(n.source)).parents(".postbox").attr("id");l=l.substring(0,l.lastIndexOf("_"))}}o=o.split(",");for(var h=0;h<o.length;h++){o[h]=l+"["+o[h]+"]";f.push(o[h])}for(h=0;h<f.length;h++){vp.dependency_event(f,h,n,g,".vp-metabox")}}}d(b);c.wpalchemy.on("wpa_copy",function(f,g){e=[];b=[];g.find(".vp-field[data-vp-bind]").each(function(h,k){var l=c(k).attr("data-vp-bind"),j=c(k).getDatas().type,i=c(k).attr("id");l&&e.push({bind:l,type:j,source:i})});g.find(".vp-field[data-vp-dependency]").each(function(h,k){var l=c(k).attr("data-vp-dependency"),j=c(k).getDatas().type,i=c(k).attr("id");l&&b.push({dep:l,type:"field",source:i})});if(c.fn.chosen){g.find(".vp-js-chosen").chosen()}a(e);d(b)})}(jQuery));